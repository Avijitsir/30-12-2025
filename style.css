/* --- Base --- */
* { box-sizing: border-box; -webkit-tap-highlight-color: transparent; }

body {
    margin: 0; padding: 0; font-family: 'Roboto', sans-serif;
    background-color: #fff; height: 100vh; display: flex; flex-direction: column;
    overflow: hidden; user-select: none;
    overscroll-behavior-y: contain; touch-action: pan-x pan-y;
}

/* --- Full Screen Result Layout --- */
.full-screen-result {
    position: fixed; top: 0; left: 0; width: 100%; height: 100%;
    background: #fff; z-index: 2000;
    display: flex; flex-direction: column; overflow: hidden;
}

/* Header */
.res-header-pnl { 
    padding: 10px; background: #fff; border-bottom: 1px solid #ddd; 
    box-shadow: 0 2px 5px rgba(0,0,0,0.05); flex-shrink: 0; 
}
.score-grid { display: grid; grid-template-columns: repeat(4, 1fr); gap: 5px; text-align: center; margin-top: 5px; }
.s-item { display: flex; flex-direction: column; background: #f8f9fa; padding: 5px; border-radius: 4px; border: 1px solid #e0e0e0; }
.s-item .lbl { font-size: 10px; color: #666; text-transform: uppercase; }
.s-item .val { font-size: 14px; font-weight: 700; margin-top: 2px; }
.val.green { color: #28a745; } .val.red { color: #dc3545; } .val.gray { color: #6c757d; }

/* Filter Tabs */
.filter-tabs { display: flex; gap: 6px; margin-top: 8px; overflow-x: auto; padding-bottom: 2px; }
.f-btn { padding: 5px 12px; border: 1px solid #ddd; background: white; border-radius: 15px; font-size: 11px; cursor: pointer; white-space: nowrap; font-weight: 500; color: #555; }
.f-btn.active { background: #007bff; color: white; border-color: #007bff; }

/* --- PALETTE BUBBLES (1, 2, 3...) --- */
.res-palette-scroll { display: flex; overflow-x: auto; gap: 8px; margin-top: 8px; padding-bottom: 5px; }
.rp-btn { 
    min-width: 32px; height: 32px; 
    display: flex; justify-content: center; align-items: center; 
    border-radius: 50%; font-size: 12px; font-weight: bold; color: white; 
    cursor: pointer; border: 1px solid transparent; flex-shrink: 0; 
}
/* COLORS FOR BUBBLES */
.rp-btn.correct { background: #28a745; box-shadow: 0 2px 2px rgba(40, 167, 69, 0.3); } /* Green */
.rp-btn.wrong { background: #dc3545; box-shadow: 0 2px 2px rgba(220, 53, 69, 0.3); } /* Red */
.rp-btn.skipped { background: #ffc107; color: #333; box-shadow: 0 2px 2px rgba(255, 193, 7, 0.3); } /* Yellow */
.rp-btn.active { border: 2px solid #333; transform: scale(1.1); }

/* --- OPTIONS STYLING (Result View) --- */
.res-content-area { flex: 1; display: flex; flex-direction: column; overflow: hidden; position: relative; }
.res-opt-row { 
    display: flex; align-items: flex-start; gap: 10px; padding: 12px; 
    border: 1px solid #eee; border-radius: 8px; margin-bottom: 8px; 
    background: #fff; pointer-events: none; /* User can't click */
}
.res-circle { 
    width: 20px; height: 20px; border: 2px solid #757575; border-radius: 50%; 
    margin-top: 2px; position: relative; flex-shrink: 0; 
}

/* CORRECT OPTION (Green Box + Tick) */
.res-opt-row.correct-ans { 
    background: #d4edda !important; 
    border: 1px solid #28a745 !important; 
}
.res-opt-row.correct-ans .res-circle { 
    border-color: #28a745; background: #28a745; 
}
.res-opt-row.correct-ans .res-circle::after { 
    content: '✔'; position: absolute; top: 0px; left: 4px; 
    color: white; font-size: 12px; font-weight: bold; 
}

/* WRONG OPTION SELECTED BY USER (Red Box + Cross) */
.res-opt-row.user-wrong { 
    background: #f8d7da !important; 
    border: 1px solid #dc3545 !important; 
}
.res-opt-row.user-wrong .res-circle { 
    border-color: #dc3545; background: #dc3545; 
}
.res-opt-row.user-wrong .res-circle::after { 
    content: '✖'; position: absolute; top: 0px; left: 5px; 
    color: white; font-size: 12px; font-weight: bold; 
}

/* Explanations & Others */
.explanation-box { margin-top: 15px; padding: 12px; background: #e3f2fd; border-left: 4px solid #2196f3; border-radius: 4px; color: #0d47a1; font-size: 14px; line-height: 1.5; }
.q-img-display { max-width: 100%; max-height: 200px; display: block; margin: 10px auto; border-radius: 4px; border: 1px solid #eee; }
.passage-box { background: #fff8e1; border-left: 4px solid #ffc107; padding: 8px; margin-bottom: 10px; font-size: 14px; line-height: 1.5; color: #333; max-height: 120px; overflow-y: auto; }

/* Footers */
.app-footer { position: fixed; bottom: 0; left: 0; width: 100%; background: white; border-top: 1px solid #e0e0e0; padding: 8px 10px; z-index: 10; box-shadow: 0 -2px 10px rgba(0,0,0,0.05); }
.footer-row { display: flex; justify-content: space-between; gap: 8px; }
.tb-btn { border: 1px solid transparent; border-radius: 4px; padding: 10px 5px; font-size: 13px; font-weight: 600; cursor: pointer; text-align: center; white-space: nowrap; flex: 1; transition: all 0.2s; }
.tb-btn.secondary { background: #e3f2fd; color: #000; border: 1px solid #bbdefb; }
.tb-btn.primary { background: #007bff; color: white; }
.full-width { width: 100%; }

/* Main Quiz Styles (Existing) */
.inst-container { position: fixed; inset: 0; background: white; z-index: 500; display: flex; flex-direction: column; }
.content-area { flex: 1; overflow-y: auto; padding: 15px; position: relative; }
.option-row { display: flex; gap: 10px; align-items: flex-start; cursor: pointer; padding: 10px; border: 1px solid #eee; border-radius: 8px; background: #fff; transition: background 0.2s; }
.option-row.selected { border-color: #007bff; }
.option-row.selected .radio-circle { border-color: #007bff; }
.option-row.selected .radio-circle::after { content: ''; position: absolute; width: 10px; height: 10px; background: #007bff; border-radius: 50%; top: 3px; left: 3px; }
